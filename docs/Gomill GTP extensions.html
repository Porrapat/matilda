<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head> <meta content="text/html; charset=utf-8" http-equiv="Content-Type"> <title>GTP extensions — gomill 0.7.4 documentation</title> <link href="_static/gomill.css" rel="stylesheet" type="text/css"> <link href="_static/pygments.css" rel="stylesheet" type="text/css"> <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.7.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script> <script src="_static/jquery.js" type="text/javascript"></script> <script src="_static/underscore.js" type="text/javascript"></script> <script src="_static/doctools.js" type="text/javascript"></script> <link href="index.html" rel="top" title="gomill 0.7.4 documentation"> <link href="library.html" rel="next" title="The Gomill library"> <link href="errors.html" rel="prev" title="Error handling and exceptional situations"> </head> <body> <div class="related"> <h3>Navigation</h3> <ul> <li class="right" style="margin-right: 10px"> <a accesskey="I" href="genindex.html" title="General Index">index</a></li> <li class="right"> <a href="py-modindex.html" title="Python Module Index">modules</a> |</li> <li class="right"> <a accesskey="N" href="library.html" title="The Gomill library">next</a> |</li> <li class="right"> <a accesskey="P" href="errors.html" title="Error handling and exceptional situations">previous</a> |</li> <li><a href="/gomill/">Gomill</a> » <li><a href="index.html">gomill 0.7.4 documentation</a> »</li> </ul> </div> <div class="document"> <div class="documentwrapper"> <div class="bodywrapper"> <div class="body"> <div class="section" id="gtp-extensions"> <h1>GTP extensions</h1> <p>Gomill supports a number of <abbr title="Go Text Protocol">GTP</abbr> extension commands. These are all named with a <tt class="docutils literal"><span class="pre">gomill-</span></tt> prefix.</p> <p>The extensions used by the ringmaster are as follows:</p> <dl class="gtp"> <dt id="gtp-gomill-explain_last_move"> <tt class="descname">gomill-explain_last_move</tt></dt> <dd><p>Arguments: none</p> <p>Return a string containing the engine’s comments about the last move it generated.</p> <p>This might include the engine’s estimate of its winning chances, a principal variation, or any other diagnostic information.</p> <p>The intention is that <abbr title="Go Text Protocol">GTP</abbr> controllers which produce game records should use this command to write a comment associated with the move.</p> <p>Any non-ASCII characters in the response should be encoded as UTF-8.</p> <p>If no information is available, return an empty string.</p> <p>The behaviour of this command is unspecified if a command changing the board state (eg <tt class="xref std std-gtp docutils literal"><span class="pre">play</span></tt> or <tt class="xref std std-gtp docutils literal"><span class="pre">undo</span></tt>) has occurred since the engine last generated a move.</p> </dl> <dl class="gtp"> <dt id="gtp-gomill-describe_engine"> <tt class="descname">gomill-describe_engine</tt></dt> <dd><p>Arguments: none</p> <p>Return a string with a description of the engine’s configuration. This should repeat the information from the <tt class="xref std std-gtp docutils literal"><span class="pre">name</span></tt> and <tt class="xref std std-gtp docutils literal"><span class="pre">version</span></tt> commands. Controllers should expect the response to take multiple lines.</p> <p>The intention is that <abbr title="Go Text Protocol">GTP</abbr> controllers which produce game records should use the output of this command as part of a comment for the game as a whole.</p> <p>If possible, the response should include a description of all engine parameters which affect gameplay. If the engine plays reproducibly given the seed of a random number generator, the response should include that seed.</p> <p>Any non-ASCII characters in the response should be encoded as UTF-8.</p> </dl> <dl class="gtp"> <dt id="gtp-gomill-cpu_time"> <tt class="descname">gomill-cpu_time</tt></dt> <dd><p>Arguments: none</p> <p>Return a float (represented in decimal) giving the amount of CPU time the engine has used to generate all moves made so far (in seconds).</p> <p>For engines which use multiple threads or processes, this should be the total time used on all CPUs.</p> <p>It may not be possible to meaningfully respond to this command (for example, if an engine runs on multiple processors which run at different speeds); in complex cases, the engine should document how the CPU time is calculated.</p> </dl> <dl class="gtp"> <dt id="gtp-gomill-genmove_ex"> <tt class="descname">gomill-genmove_ex</tt></dt> <dd><p>Arguments: colour, list of keywords</p> <p>This is a variant of the standard <tt class="xref std std-gtp docutils literal"><span class="pre">genmove</span></tt> command. Each keyword indicates a permitted (or desired) variation of behaviour. For example:</p> <div class="highlight-python"><pre>gomill-genmove_ex b claim</pre> </div> <p>If <tt class="xref std std-gtp docutils literal"><span class="pre">gomill-genmove_ex</span></tt> is sent without any arguments (ie, no colour is specified), the engine should return a list of the keywords it supports (one per line, like <tt class="xref std std-gtp docutils literal"><span class="pre">list_commands</span></tt>).</p> <p>Engines must ignore keywords they do not support. <tt class="xref std std-gtp docutils literal"><span class="pre">gomill-genmove_ex</span></tt> with no keywords is exactly equivalent to <tt class="xref std std-gtp docutils literal"><span class="pre">genmove</span></tt>.</p> <p>The following keywords are currently defined:</p> <dl class="docutils"> <dt><tt class="docutils literal"><span class="pre">claim</span></tt></dt> <dd>In addition to the usual responses to <tt class="xref std std-gtp docutils literal"><span class="pre">genmove</span></tt>, the engine may also return <tt class="docutils literal"><span class="pre">claim</span></tt>, which indicates that the engine believes it is certain to win the game (the engine must not assume that the controller will act on this claim).</dd> </dl> </dl> <p>There is also an extension which is not used by the ringmaster:</p> <dl class="gtp"> <dt id="gtp-gomill-savesgf"> <tt class="descname">gomill-savesgf</tt></dt> <dd><p>Arguments: filename, list of <abbr title="Smart Game Format">SGF</abbr> properties</p> <p>Write an <abbr title="Smart Game Format">SGF</abbr> game record of the current game.</p> <p>See the <a class="reference internal" href="glossary.html#term-gtp"><em class="xref std std-term">GTP</em></a> specification’s description of <tt class="xref std std-gtp docutils literal"><span class="pre">loadsgf</span></tt> for the interpretation of the <tt class="docutils literal"><span class="pre">filename</span></tt> argument.</p> <p>The <abbr title="Smart Game Format">SGF</abbr> properties should be specified in the form <tt class="samp docutils literal"><em><span class="pre">PropIdent</span></em><span class="pre">=</span><em><span class="pre">PropValue</span></em></tt>, eg <tt class="docutils literal"><span class="pre">RE=W+3.5</span></tt>. Escape spaces in values with <tt class="docutils literal"><span class="pre">\_</span></tt>, backslashes with <tt class="docutils literal"><span class="pre">\\</span></tt>. Encode non-ASCII characters in UTF-8.</p> <p>These <abbr title="Smart Game Format">SGF</abbr> properties should be added to the root node. The engine should fill in any properties it can (at least <tt class="docutils literal"><span class="pre">AP</span></tt>, <tt class="docutils literal"><span class="pre">SZ</span></tt>, <tt class="docutils literal"><span class="pre">KM</span></tt>, <tt class="docutils literal"><span class="pre">HA</span></tt>, and <tt class="docutils literal"><span class="pre">DT</span></tt>). Explicitly-specified properties should override the engine’s defaults.</p> <p>The intention is that engines which have ‘comments’ about their moves (as for <a class="reference internal" href="#gtp-gomill-explain_last_move"><tt class="xref std std-gtp docutils literal"><span class="pre">gomill-explain_last_move</span></tt></a>) should include them in the game record.</p> <p>Example:</p> <div class="highlight-python"><pre>gomill-savesgf xxx.sgf PB=testplayer PW=GNU\_Go:3.8 RE=W+3.5</pre> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last"><abbr title="Go Text Protocol">GTP</abbr> engines aren’t typically well placed to write game records, as they don’t have enough information to write the game metadata properly (this is why <tt class="xref std std-gtp docutils literal"><span class="pre">gomill-savesgf</span></tt> has to take the <abbr title="Smart Game Format">SGF</abbr> properties explicitly). It’s usually better for the controller to do it. See the <a class="reference internal" href="example_scripts.html#script-kgs_proxy.py"><tt class="xref std std-script docutils literal"><span class="pre">kgs_proxy.py</span></tt></a> example script for an example of when this command might be useful.</p> </div> </dl> <p>The <a class="reference internal" href="#gtp-gomill-explain_last_move"><tt class="xref std std-gtp docutils literal"><span class="pre">gomill-explain_last_move</span></tt></a>, <a class="reference internal" href="#gtp-gomill-genmove_ex"><tt class="xref std std-gtp docutils literal"><span class="pre">gomill-genmove_ex</span></tt></a>, and <a class="reference internal" href="#gtp-gomill-savesgf"><tt class="xref std std-gtp docutils literal"><span class="pre">gomill-savesgf</span></tt></a> commands are supported by the Gomill <tt class="xref py py-mod docutils literal"><span class="pre">gtp_states</span></tt> module.</p> </div> </div> </div> </div> <div class="sphinxsidebar"> <div class="sphinxsidebarwrapper"><h3><a href="index.html">Table Of Contents</a></h3> <ul class="current"> <li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a><ul class="simple"> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="ringmaster.html">The ringmaster</a><ul> <li class="toctree-l2"><a class="reference internal" href="competitions.html">Running competitions</a><ul class="simple"> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="results.html">Viewing results</a><ul class="simple"> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="ringmaster_cmdline.html">Command line</a></li> <li class="toctree-l2"><a class="reference internal" href="settings.html">The control file</a><ul class="simple"> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="competition_types.html">Competition types</a><ul> <li class="toctree-l3"><a class="reference internal" href="playoffs.html">Playoff</a></li> <li class="toctree-l3"><a class="reference internal" href="allplayalls.html">All-play-all</a></li> <li class="toctree-l3"><a class="reference internal" href="mcts_tuner.html">Monte Carlo</a></li> <li class="toctree-l3"><a class="reference internal" href="cem_tuner.html">Cross-entropy</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="errors.html">Error handling…</a><ul class="simple"> </ul> </li> </ul> </li> <li class="toctree-l1 current"><a class="current reference internal" href="">GTP extensions</a></li> <li class="toctree-l1"><a class="reference internal" href="library.html">The Gomill library</a><ul> <li class="toctree-l2"><a class="reference internal" href="library_overview.html">Library overview</a></li> <li class="toctree-l2"><a class="reference internal" href="gomill_package.html">The <tt class="docutils literal"><span class="pre">gomill</span></tt> package</a><ul class="simple"> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="common.html">The <tt class="docutils literal"><span class="pre">common</span></tt> module</a></li> <li class="toctree-l2"><a class="reference internal" href="boards.html">The <tt class="docutils literal"><span class="pre">boards</span></tt> module</a></li> <li class="toctree-l2"><a class="reference internal" href="ascii_boards.html">The <tt class="docutils literal"><span class="pre">ascii_boards</span></tt> module</a></li> <li class="toctree-l2"><a class="reference internal" href="handicap_layout.html">The <tt class="docutils literal"><span class="pre">handicap_layout</span></tt> module</a></li> <li class="toctree-l2"><a class="reference internal" href="sgf.html">SGF support</a><ul class="simple"> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="tournament_results.html">Tournament results API</a><ul class="simple"> </ul> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="example_scripts.html">The example scripts</a></li> <li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul class="simple"> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li> <li class="toctree-l1"><a class="reference internal" href="changes.html">Changes</a><ul class="simple"> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="licence.html">Licence</a></li> <li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li> </ul> <h4>Previous topic</h4> <p class="topless"><a href="errors.html" title="previous chapter">Error handling and exceptional situations</a></p> <h4>Next topic</h4> <p class="topless"><a href="library.html" title="next chapter">The Gomill library</a></p> <div id="searchbox" style="display: none"> <h3>Quick search</h3> <form action="search.html" class="search" method="get"> <input name="q" type="text"> <input type="submit" value="Go"> <input name="check_keywords" type="hidden" value="yes"> <input name="area" type="hidden" value="default"> </form> <p class="searchtip" style="font-size: 90%"> Enter search terms or a module, class or function name. </p> </div> <script type="text/javascript">$('#searchbox').show(0);</script> </div> </div> <div class="clearer"></div> </div> <div class="related"> <h3>Navigation</h3> <ul> <li class="right" style="margin-right: 10px"> <a href="genindex.html" title="General Index">index</a></li> <li class="right"> <a href="py-modindex.html" title="Python Module Index">modules</a> |</li> <li class="right"> <a href="library.html" title="The Gomill library">next</a> |</li> <li class="right"> <a href="errors.html" title="Error handling and exceptional situations">previous</a> |</li> <li><a href="/gomill/">Gomill</a> » <li><a href="index.html">gomill 0.7.4 documentation</a> »</li> </ul> </div> <div class="footer"> © Copyright 2009-2012, Matthew Woodcraft. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3. </div> 